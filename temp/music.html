<html>
<head>
	<title>Music</title>
	<script type="text/javascript" src="./jquery-1.11.3.js"></script>
	<script type="text/javascript">
		var play;
		var counter = 0;
		function startMetronome(){
			var bpm = document.getElementById('bpm').value;
			var wait_time = 60000/bpm;
			play = setInterval(function () {play_beep();}, wait_time);
		}
		function stopMetronome(){
			clearInterval(play);
		}
		function play_beep(){
			var beep1 = document.getElementById('beep1');
			var beep2 = document.getElementById('beep2');
			console.log(counter);
			if (counter===0){
				beep1.play();
			}else{
				beep2.play();
			}
			if (counter===3){
				counter = 0;
			}else{
				counter += 1;
			}
		}
	</script>
	<style type="text/css">
		.hidden{
			display: none;
		}
	</style>
</head>
<body>
	<h1>Metronome</h1>
	<p>Beat: <input id="bpm" type="number" min="0" max="180" maxlength="3"> bpm</p>
	<audio id="beep1" controls >
		<source src="beep-07.mp3" type="audio/mpeg">
	</audio>
	<audio id="beep2" controls >
		<source src="beep-08b.mp3" type="audio/mpeg">
	</audio>
	<button onclick="startMetronome()">Start</button>
	<button onclick="stopMetronome()">Stop</button>
</body>
</html>